
%run ./fetch_sha_data.py -t targets.txt -o ~/ucd_project/ucd_sha_data

# ----------------------------------------------------------------------- 

./fetch_gaia_nearby.py -R 0.5 277.12595833  +26.84355556 -o wise1828.csv
./fetch_gaia_nearby.py -R 0.5  63.83208333   -9.58497222 -o 2mass0415.csv

# ----------------------------------------------------------------------- 

# extraction test:
%run ./extract_and_match_gaia.py -g ultracool/csv/gaia_wise1828.csv \
   -i ucd_sha_data/SPITZER_I2_61246976_0004_0000_1_cbcd.fits
%run ./extract_and_match_gaia.py -g ultracool/csv/gaia_wise1828.csv \
   -i ucd_sha_data/SPITZER_I2_61246976_0004_0000_1_cbcd.fits        \
   -u ucd_sha_data/SPITZER_I2_61246976_0004_0000_1_cbunc.fits
%run ./extract_and_match_gaia.py -g ultracool/csv/gaia_wise1828.csv \
   -i ucd_sha_data/SPITZER_I2_61246976_0004_0000_1_cbcd.fits        \
   -u ucd_sha_data/SPITZER_I2_61246976_0004_0000_1_cbunc.fits       \
   -o ucd_fcat/SPITZER_I2_61246976_0004_0000_1_fcat.fits

%run ./extract_and_match_gaia.py -g ultracool/csv/gaia_wise1828.csv \
   -i ucd_sha_data/SPITZER_I2_61246976_0004_0000_1_cbcd.fits        \
   -u ucd_sha_data/SPITZER_I2_61246976_0004_0000_1_cbunc.fits       \
   -r detections.reg

# ----------------------------------------------------------------------- 

# fit/analyze testing:
%run ./slice_and_dice.py -C separate/cat_2m0415.txt -g csv/gaia_2mass0415.csv

%run ./slice_and_dice.py -C separate/cat_wi1828.txt -g csv/gaia_wise1828.csv

# ----------------------------------------------------------------------- 
# ----------------------------------------------------------------------- 
# ----------------------------------------------------------------------- 
# PIPELINE execution:

./05_extract_all_spitzer.py -I ../ucd_sha_data -O ../ucd_fcat

# unweighted ...
./06_sextract_spitzer.sh --original -I ../ucd_sha_data -O ../ucd_scat_orig --START -r
./06_sextract_spitzer.sh --cosclean -I ../ucd_sha_data -O ../ucd_scat_ccln --START -r

# weighted!
./06_sextract_spitzer.sh --original -I ../ucd_sha_data -O ../wei_scat_orig --START -r --rmswei
./06_sextract_spitzer.sh --cosclean -I ../ucd_sha_data -O ../wei_scat_ccln --START -r --rmswei

# ----------------------------------------------------------------------- 
# ----------------------------------------------------------------------- 
# ----------------------------------------------------------------------- 
# ancillary stuff:

./compare_distortion.py -i ~/ucd_project/ucd_sha_data/SPITZER_I2_61246976_0004_0000_1_cbcd.fits

